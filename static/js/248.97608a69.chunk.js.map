{"version":3,"file":"static/js/248.97608a69.chunk.js","mappings":"yOAGaA,EAAWC,EAAAA,EAAAA,IAAH,uOAaRC,EAAQD,EAAAA,EAAAA,IAAH,8FAMLE,EAAaF,EAAAA,EAAAA,GAAH,uEAKVG,GAAgBH,EAAAA,EAAAA,GAAOI,EAAAA,GAAPJ,CAAH,mFAMbK,GAAiBL,EAAAA,EAAAA,GAAOM,EAAAA,GAAPN,CAAH,kIAQdO,EAAeP,EAAAA,EAAAA,OAAH,sJ,uCCUzB,EArC0B,SAAC,GAAmB,IAAjBQ,EAAgB,EAAhBA,UACrBC,GAAWC,EAAAA,EAAAA,MACjB,GAAwBC,EAAAA,EAAAA,IAAYC,EAAAA,IAE9BC,EAAgB,CACpBC,KAHF,EAAQA,KAINC,MAJF,EAAcA,OAad,OACE,SAAChB,EAAD,CAAUiB,QAPa,SAAAC,GACnBA,EAAEC,gBAAkBD,EAAEE,QACxBX,GAAU,EAEb,EAGC,UACE,UAACP,EAAD,YACE,SAACC,EAAD,UAAY,kBACZ,SAAC,KAAD,CACEW,cAAeA,EACfO,SAAU,SAAAC,GACRb,GAAU,GACVC,GAASa,EAAAA,EAAAA,IAASD,GACnB,EALH,UAOE,UAAClB,EAAD,YACE,SAACE,EAAD,CAAgBkB,KAAK,OAAOT,KAAK,UACjC,SAACT,EAAD,CAAgBkB,KAAK,QAAQT,KAAK,WAClC,SAACP,EAAD,CAAcgB,KAAK,SAAnB,SAA4B,kBAMvC,E,UC7CYC,EAAmBxB,EAAAA,EAAAA,IAAH,sEAKhByB,GAAezB,EAAAA,EAAAA,GAAOI,EAAAA,GAAPJ,CAAH,yHAQZ0B,EAAgB1B,EAAAA,EAAAA,MAAH,mFAMb2B,EAAgB3B,EAAAA,EAAAA,GAAH,wFAMb4B,GAAgB5B,EAAAA,EAAAA,GAAOM,EAAAA,GAAPN,CAAH,wIAQb6B,EAAc7B,EAAAA,EAAAA,OAAH,sJASX8B,EAAiB9B,EAAAA,EAAAA,IAAH,oHASd+B,EAAoB/B,EAAAA,EAAAA,IAAH,+EAKjBgC,GAAwBhC,EAAAA,EAAAA,GAAOiC,EAAAA,IAAPjC,CAAH,6EAKpBkC,EAAwBlC,EAAAA,EAAAA,EAAH,qFAMtBmC,EAAenC,EAAAA,EAAAA,IAAH,kIAQZoC,EAAYpC,EAAAA,EAAAA,IAAH,iLCwBtB,EAjFiB,WACf,IAAMqC,GAAO1B,EAAAA,EAAAA,IAAYC,EAAAA,IACjB0B,GAAc3B,EAAAA,EAAAA,IAAYC,EAAAA,IAA1B0B,UACR,GAA4BC,EAAAA,EAAAA,WAAS,GAArC,eAAOC,EAAP,KAAehC,EAAf,KACMC,GAAWC,EAAAA,EAAAA,MACjB,GAAwC6B,EAAAA,EAAAA,UAAS,MAAjD,eAAOE,EAAP,KAAqBC,EAArB,KACA,GAA4CH,EAAAA,EAAAA,WAAS,GAArD,eAAOI,EAAP,KAAuBC,EAAvB,KACMC,GAAeC,EAAAA,EAAAA,QAAO,MAOtBjC,EAAgB,CACpBC,KAAMuB,EAAKvB,MAAQ,GACnBC,MAAOsB,EAAKtB,OAAS,IAWvBgC,QAAQC,IAAIV,GAEZ,IAAMW,EAAkB,WACtBL,GAAkB,GAClBC,EAAaK,QAAQC,OACtB,EAED,OACE,iCACE,SAACxB,EAAD,UAAe,4BACf,UAACG,EAAD,YACE,SAACK,EAAD,UACCM,GAAgBE,GACf,SAACP,EAAD,CAAWgB,IAAKC,IAAIC,gBAAgBb,GAAec,IAAI,YAEvD,SAACnB,EAAD,CAAWgB,IAAK,iDAA0Cd,IAAekB,EAAeD,IAAI,cAG9F,UAACxB,EAAD,YACE,SAACC,EAAD,CAAuBhB,QAASiC,KAChC,SAACf,EAAD,CAAuBlB,QAASiC,EAAhC,SAAiD,mBAInD,kBACE1B,KAAK,OACLkC,IAAKZ,EACLa,MAAO,CAAEC,QAAS,QAClBC,OAAO,yBACPC,SArCa,SAAA5C,GACnByB,EAAgBzB,EAAEE,OAAO2C,MAAM,IAC/BlB,GAAkB,GAClB,IAAMmB,EAAW,IAAIC,SACrBD,EAASE,OAAO,SAAUxB,GAC1BhC,GAASa,EAAAA,EAAAA,IAASyC,GACnB,QAkCG,UAACvC,EAAD,YACE,SAAC,KAAD,CAAQX,cAAeA,EAAvB,UACE,UAACY,EAAD,YACE,UAACC,EAAD,WAAe,QAEb,SAACE,EAAD,CAAeL,KAAK,OAAOT,KAAK,OAAOoD,UAAQ,QAEjD,UAACxC,EAAD,WAAe,SAEb,SAACE,EAAD,CAAeL,KAAK,QAAQT,KAAK,QAAQoD,UAAQ,QAEnD,SAACrC,EAAD,CAAaN,KAAK,SAASP,QA5DhB,WACnBR,GAAU,SAAA2D,GAAI,OAAKA,CAAL,GACf,EA0DS,SAAkD,sBAKrD3B,IAAU,SAAC,EAAD,CAAmBhC,UAAWA,SAIhD,EC9FD,EAJiB,WACf,OAAO,SAAC,EAAD,GACR,ECCD,EAJiB,WACf,OAAO,SAAC,EAAD,GACR,C","sources":["components/ModalEditUserInfo/ModalEditUserInfo.styled.jsx","components/ModalEditUserInfo/ModalEditUserInfo.jsx","components/UserInfo/UserInfo.styled.jsx","components/UserInfo/UserInfo.jsx","components/UserData/UserData.jsx","pages/UserPage.js"],"sourcesContent":["import styled from '@emotion/styled';\nimport { Form, Field } from 'formik';\n\nexport const Backdrop = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.3);\n  z-index: 1200;\n`;\n\nexport const Modal = styled.div`\n  padding: 20px;\n  background-color: white;\n  border-radius: 10px;\n`;\n\nexport const ModalTitle = styled.h2`\n  margin-bottom: 10px;\n  text-align: center;\n`;\n\nexport const ModalEditForm = styled(Form)`\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n`;\n\nexport const ModalEditField = styled(Field)`\n  padding: 10px;\n  font-size: 16px;\n  border: none;\n  background: whitesmoke;\n  border-radius: 15px;\n`;\n\nexport const ModalEditBtn = styled.button`\n  padding: 10px;\n  font-size: 16px;\n  border: none;\n  background-color: #1976d2;\n  border-radius: 15px;\n  color: white;\n`;\n","import React from 'react';\nimport {\n  Backdrop,\n  Modal,\n  ModalTitle,\n  ModalEditForm,\n  ModalEditField,\n  ModalEditBtn,\n} from './ModalEditUserInfo.styled';\nimport { Formik } from 'formik';\nimport { selectUser } from 'redux/auth/selectors';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { editUser } from 'redux/auth/operetions';\n\nconst ModalEditUserInfo = ({ setIsOpen }) => {\n  const dispatch = useDispatch();\n  const { name, email } = useSelector(selectUser);\n\n  const initialValues = {\n    name: name,\n    email: email,\n  };\n\n  const onCloseEditModal = e => {\n    if (e.currentTarget === e.target) {\n      setIsOpen(false);\n    }\n  };\n\n  return (\n    <Backdrop onClick={onCloseEditModal}>\n      <Modal>\n        <ModalTitle>Edit profile</ModalTitle>\n        <Formik\n          initialValues={initialValues}\n          onSubmit={value => {\n            setIsOpen(false);\n            dispatch(editUser(value));\n          }}\n        >\n          <ModalEditForm>\n            <ModalEditField type=\"text\" name=\"name\" />\n            <ModalEditField type=\"email\" name=\"email\" />\n            <ModalEditBtn type=\"submit\">Edit</ModalEditBtn>\n          </ModalEditForm>\n        </Formik>\n      </Modal>\n    </Backdrop>\n  );\n};\n\nexport default ModalEditUserInfo;\n","import styled from '@emotion/styled';\nimport { Form, Field } from 'formik';\nimport { BiCamera } from 'react-icons/bi';\n\nexport const UserInfoWrapperr = styled.div`\n  display: flex;\n  justify-content: center;\n`;\n\nexport const UserInfoForm = styled(Form)`\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n  width: 350px;\n  margin-top: 30px;\n`;\n\nexport const UserInfoLable = styled.label`\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n`;\n\nexport const UserInfoTitle = styled.h2`\n  text-align: center;\n  margin-top: 30px;\n  font-size: 27px;\n`;\n\nexport const UserInfoField = styled(Field)`\n  padding: 20px;\n  font-size: 16px;\n  border-radius: 15px;\n  border: none;\n  background-color: whitesmoke;\n`;\n\nexport const UserInfoBtn = styled.button`\n  background-color: #1976d2;\n  font-size: 16px;\n  color: white;\n  padding: 20px;\n  border: none;\n  border-radius: 15px;\n`;\n\nexport const UserImgWrapper = styled.div`\ndisplay: flex;\nflex-direction: column;\ngap: 15px;\nmargin: 0 auto;\nalign-items: center;\n`\n\n\nexport const UserInfoEditPhoto = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 5px;\n`\nexport const UserInfoEditPhotoIcon = styled(BiCamera)`\nfont-size: 24px;\ncolor: #1976d2;\ncursor: pointer;\n`\nexport const  UserInfoEditPhotoText = styled.p`\n  font-size: 16px;\n  font-weight: 500;\n  cursor: pointer;\n`\n\nexport const UserImgCover = styled.div`\n display: flex;\n justify-content: center;\n border-radius: 50%;\n overflow: hidden;\n margin-top: 15px;\n`\n\nexport const ImgAvatar = styled.img`\n    display: block;\n    width: 182px;\n    height: 182px;\n    border-radius: 40px;\n    background-color: rgb(235, 235, 235);\n    object-fit: cover;\n`","import ModalEditUserInfo from 'components/ModalEditUserInfo';\nimport { Formik } from 'formik';\nimport { useRef, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { selectUser } from 'redux/auth/selectors';\nimport {\n  UserInfoForm,\n  UserInfoLable,\n  UserInfoWrapperr,\n  UserInfoTitle,\n  UserInfoField,\n  UserInfoBtn,\n  UserImgWrapper,\n  UserInfoEditPhoto,\n  UserInfoEditPhotoIcon,\n  UserInfoEditPhotoText,\n  UserImgCover,\n  ImgAvatar\n} from './UserInfo.styled';\nimport defaultAvatar from '../../default-avatar.jpeg';\nimport { editUser } from 'redux/auth/operetions';\n\nconst UserInfo = () => {\n  const user = useSelector(selectUser);\n  const { avatarUrl } = useSelector(selectUser);\n  const [isOpen, setIsOpen] = useState(false);\n  const dispatch = useDispatch();\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [isEditingPhoto, setIsEditingPhoto] = useState(false);\n  const fileInputRef = useRef(null);\n\n\n  const handleIsOpen = () => {\n    setIsOpen(prev => !prev);\n  };\n\n  const initialValues = {\n    name: user.name || '',\n    email: user.email || '',\n  };\n\n  const handleChange = e => {\n    setSelectedFile(e.target.files[0]);\n    setIsEditingPhoto(false);\n    const formData = new FormData();\n    formData.append('avatar', selectedFile);\n    dispatch(editUser(formData));\n  };\n\n  console.log(avatarUrl);\n\n  const handleEditPhoto = () => {\n    setIsEditingPhoto(true);\n    fileInputRef.current.click();\n  };\n\n  return (\n    <>\n      <UserInfoTitle>Information about user</UserInfoTitle>\n      <UserImgWrapper>\n        <UserImgCover>\n        {selectedFile && isEditingPhoto ? (\n          <ImgAvatar src={URL.createObjectURL(selectedFile)} alt=\"Avatar\" />\n        ) : (\n          <ImgAvatar src={`https://fooddelivery-y6s0.onrender.com/${avatarUrl}` || defaultAvatar} alt=\"Avatar\" />\n        )}\n        </UserImgCover>\n        <UserInfoEditPhoto>\n          <UserInfoEditPhotoIcon onClick={handleEditPhoto} />\n          <UserInfoEditPhotoText onClick={handleEditPhoto}>\n            Edit photo\n          </UserInfoEditPhotoText>\n        </UserInfoEditPhoto>\n        <input\n          type=\"file\"\n          ref={fileInputRef}\n          style={{ display: 'none' }}\n          accept=\"image/*,.png,.jpg,.web\"\n          onChange={handleChange}\n        />\n      </UserImgWrapper>\n      <UserInfoWrapperr>\n        <Formik initialValues={initialValues}>\n          <UserInfoForm>\n            <UserInfoLable>\n              Name\n              <UserInfoField type=\"text\" name=\"name\" disabled />\n            </UserInfoLable>\n            <UserInfoLable>\n              Email\n              <UserInfoField type=\"email\" name=\"email\" disabled />\n            </UserInfoLable>\n            <UserInfoBtn type=\"button\" onClick={handleIsOpen}>\n              Edit profile\n            </UserInfoBtn>\n          </UserInfoForm>\n        </Formik>\n        {isOpen && <ModalEditUserInfo setIsOpen={setIsOpen} />}\n      </UserInfoWrapperr>\n    </>\n  );\n};\n\nexport default UserInfo;\n","import UserInfo from 'components/UserInfo';\nimport React from 'react';\n\nconst UserData = () => {\n  return <UserInfo />;\n};\n\nexport default UserData;\n","import UserData from 'components/UserData';\n\nconst UserPage = () => {\n  return <UserData />;\n};\n\nexport default UserPage;\n"],"names":["Backdrop","styled","Modal","ModalTitle","ModalEditForm","Form","ModalEditField","Field","ModalEditBtn","setIsOpen","dispatch","useDispatch","useSelector","selectUser","initialValues","name","email","onClick","e","currentTarget","target","onSubmit","value","editUser","type","UserInfoWrapperr","UserInfoForm","UserInfoLable","UserInfoTitle","UserInfoField","UserInfoBtn","UserImgWrapper","UserInfoEditPhoto","UserInfoEditPhotoIcon","BiCamera","UserInfoEditPhotoText","UserImgCover","ImgAvatar","user","avatarUrl","useState","isOpen","selectedFile","setSelectedFile","isEditingPhoto","setIsEditingPhoto","fileInputRef","useRef","console","log","handleEditPhoto","current","click","src","URL","createObjectURL","alt","defaultAvatar","ref","style","display","accept","onChange","files","formData","FormData","append","disabled","prev"],"sourceRoot":""}